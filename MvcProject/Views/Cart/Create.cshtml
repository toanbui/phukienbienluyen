@model Entities.Param.ProductParam
@using Utilities
<div class="modalAddComplete-content">
    <span id="modalAddComplete-close" class="modalAddComplete-close"><svg class="svg-inline--fa fa-times fa-w-12" aria-hidden="true" data-prefix="fa" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg=""><path fill="currentColor" d="M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"></path></svg><!-- <i class="fa fa-times" aria-hidden="true"></i> --></span>
    <div class="modalAddComplete-body">
        <div class="modal-cart-status">
            <h2>
                Giỏ hàng của bạn (Đang có <span id="cartTotal">@Model.TotalProductInCart</span> sản phẩm)
            </h2>
        </div>
        @using (Html.BeginForm("Create", "Cart", FormMethod.Post, new { @class = "cart table-wrap added-form", @data_parsley_type = "", id = "frCreate", @role = "form" }))
        {
            @Html.AntiForgeryToken()
            <div class="modal-main-cart">
                <div class="modal-tbl-cart medium--hide small--hide">
                    <table class="cart-table full table--responsive">
                        <thead>
                            <tr>
                                <th></th>
                                <th>Sản phẩm</th>
                                <th>Đơn giá</th>
                                <th>Số lượng</th>
                                <th>Thành tiền</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            @for (int i = 0; i < Model.ProductInCarts.Count; i++)
                            {
                                var item = Model.ProductInCarts[i];
                                <tr class="data-prd-id" data-prd-id="@item.Id">
                                    @Html.HiddenFor(x => x.ProductInCarts[i].Id)
                                    @Html.HiddenFor(x => x.ProductInCarts[i].Price)
                                    <td data-label="Sản phẩm" class="product-img ">
                                        <a href="javascript:;">
                                            <img src="@item.FirstAvatar.ChangeThumbSize(200,100)" alt="@item.Name">
                                        </a>
                                    </td>
                                    <td class="product-title">
                                        <a href="javascript:;">@item.Name</a>
                                    </td>
                                    <td data-label="Đơn giá" class="product-price">
                                        <span class="current-price currency-format">@item.Price</span>
                                    </td>

                                    <td class="product-actions" data-label="Số lượng">
                                        @Html.TextBoxFor(x => x.ProductInCarts[i].Number, new { @class = "js-qty__num", @placeholder = "", onkeypress = "return event.charCode >= 48 && event.charCode <= 57" })
                                    </td>
                                    <td class="product-money currency-format" id="total-item" data-label="Tổng giá">@item.TotalPrice</td>
                                    <td class="product-remove"><a href="javascript:;" onclick="removeCart('/front/Cart/Delete',this);" rel="nofollow" class="cart__remove"><svg class="svg-inline--fa fa-trash fa-w-14" aria-hidden="true" data-prefix="fa" data-icon="trash" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M0 84V56c0-13.3 10.7-24 24-24h112l9.4-18.7c4-8.2 12.3-13.3 21.4-13.3h114.3c9.1 0 17.4 5.1 21.5 13.3L312 32h112c13.3 0 24 10.7 24 24v28c0 6.6-5.4 12-12 12H12C5.4 96 0 90.6 0 84zm415.2 56.7L394.8 467c-1.6 25.3-22.6 45-47.9 45H101.1c-25.3 0-46.3-19.7-47.9-45L32.8 140.7c-.4-6.9 5.1-12.7 12-12.7h358.5c6.8 0 12.3 5.8 11.9 12.7z"></path></svg><!-- <i class="fa fa-trash" aria-hidden="true"></i> --></a></td>
                                </tr>
                            }

                        </tbody>
                    </table>
                </div>
                <div class="mobile-modal-tbl-cart large--hide">
                    <ul class="no-bullets">
                        @for (int i = 0; i < Model.ProductInCarts.Count; i++)
                        {
                            var item = Model.ProductInCarts[i];
                            <li class="cart-item data-prd-id" data-prd-id="@item.Id">
                                <div class="grid mg-left-10">
                                    <div class="grid__item medium--four-twelfths small--five-twelfths pd-left10">
                                        <div class="cart-item-img">
                                            <a href="javascript:;" rel="nofollow">
                                                <img src="@item.FirstAvatar.ChangeThumbSize(200,100)" alt="@item.Name.EncodeTitle()">
                                            </a>
                                        </div>
                                    </div>
                                    <div class="grid__item medium--eight-twelfths small--seven-twelfths pd-left10">
                                        <div class="cart-item-info">
                                            <div class="cart-item-title">
                                                <a href="javascript:;" rel="nofollow">
                                                    @item.Name
                                                </a>
                                            </div>
                                            <div class="cart-item-price clearfix">
                                                <span class="current-price currency-format">@item.Price</span>

                                            </div>
                                            <div class="cart-item-actions">
                                                Số lượng: @item.Number <a href="javascript:;" rel="nofollow" onclick="removeCart('/front/Cart/Delete',this);" class="cart__remove">Xóa</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>

                        }
                    </ul>
                </div>
                <div class="modal-checkout-actions">
                    <div class="grid">
                        <div class="grid__item large--one-half">


                            <div class="cart-note-wrapper">
                                <div class="cart-note">
                                    <textarea name="note" placeholder="Ghi chú" class="input-full" id="CartSpecialInstructions"></textarea>
                                </div>
                            </div>

                            <div class="text-left">
                                <a href="javascript:void(0)" class="modalAddComplete-close"><svg class="svg-inline--fa fa-reply fa-w-16" aria-hidden="true" data-prefix="fa" data-icon="reply" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M8.309 189.836L184.313 37.851C199.719 24.546 224 35.347 224 56.015v80.053c160.629 1.839 288 34.032 288 186.258 0 61.441-39.581 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 45.344-145.012-21.507-183.51-176.59-185.742V360c0 20.7-24.3 31.453-39.687 18.164l-176.004-152c-11.071-9.562-11.086-26.753 0-36.328z"></path></svg><!-- <i class="fa fa-reply" aria-hidden="true"></i> --> Tiếp tục mua hàng</a>
                            </div>
                        </div>
                        <div class="grid__item large--one-half">
                            <div class="modal-cart-checkout text-right">
                                <div class="modal-cart-sum">
                                    @*<h3>Tổng: <span class="currency-format">@Model.TotalPriceInCart ₫</span></h3>*@
                                    <h3>Tổng: <span class="currency-format" id="total-incart">@Model.TotalPriceInCart</span></h3>

                                    @*<p class="you-save">
                                        Tiết kiệm: <span>1,625,000₫</span>
                                    </p>*@

                                </div>
                                <div class="modal-cart-actions clearfix">
                                    <button type="button" onclick="updateCart('front/Cart/Create');" name="update" class="btnRefreshModal update-cart medium--hide small--hide">Cập nhật giỏ hàng</button>
                                    <a href="/dat-hang.html" class="btnProceedCheckout">Tiến hành thanh toán</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        }

    </div>
</div>